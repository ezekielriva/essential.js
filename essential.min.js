//     EssentialJS v0.3.0
//     Copyright (c)2014 Roberto Dip
//     Distributed under MIT license
//     http://roperzh.github.io/essential.js
window.Essential={rootElement:document,Core:{},start:function(t){var e=this.initializeBehaviors(t);this.launchBehaviors(e)},initializeBehaviors:function(t){var e=this.Core.crawl(this.rootElement),r=Object.keys(e),i=[],n=-1;while(r[++n]){var o=r[n],s=this.Core.camelize(o),a=t[s];if(typeof a!=="undefined"){var c=e[o],u=-1;while(c[++u]){var h=a.new(c[u],true);i.push(h)}}}return i},launchBehaviors:function(t){var e=t.sort(this.Core.SortMethods.byPriority),r=-1;while(e[++r]){e[r].start()}}};if(!Object.getOwnPropertyDescriptors){Object.getOwnPropertyDescriptors=function(t){var e={};Object.getOwnPropertyNames(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)});return e}}var Proto={"new":function(){var t=Object.create(this);if(t.constructor){t.constructor.apply(t,arguments)}return t},extend:function(t){var e=Object.create(this,Object.getOwnPropertyDescriptors(t));e.super=this;return e}};Function.prototype.extend=function(t){var e=this;var r=Proto.extend.call(e.prototype,Proto);return r.extend(t)};Essential.Behavior=Proto.extend({constructor:function(t,e){this.el=t;if(!e){this.start()}},start:function(){this.delegateEvents();if(typeof this.init==="function"){this.init()}},delegateEvents:function(){if(typeof this.events==="undefined"){return}var t=/^(\S+)\s*(.*)$/;for(var e in this.events){var r=this.events[e];var i=e.match(t);var n=i[1],o=i[2],s=o?this.el.querySelectorAll(o):[this.el];if(typeof this[r]==="undefined"){continue}Essential.Core.bind(n,s,this[r].bind(this))}},priority:0});Essential.Core.bind=function(t,e,r){var i=-1;while(e[++i]){var n=e[i];if(n.addEventListener){e[i].addEventListener(t,r)}else{n.attachEvent("on"+t,r)}}};Essential.Core.SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g;Essential.Core.FIRST_LETTER_REGEXP=/^[a-z]/g;Essential.Core.camelize=function(t){return t.replace(Essential.Core.FIRST_LETTER_REGEXP,function(t){return t.toUpperCase()}).replace(Essential.Core.SPECIAL_CHARS_REGEXP,function(t,e,r){return r.toUpperCase()})};Essential.Core.crawl=function(t){var e=t.querySelectorAll("[data-behavior], [behavior]"),r=-1,i={};while(e[++r]){var n=e[r],o=n.getAttribute("data-behavior")||n.getAttribute("behavior"),s=o.split(" "),a=-1;while(s[++a]){var c=s[a];if(i[c]){i[c].push(n)}else{i[c]=[n]}}}return i};